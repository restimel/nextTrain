{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/App.vue?4241","webpack:///./src/views/Configuration.vue?0dcb","webpack:///./src/components/Clock.vue?88ee","webpack:///./src/App.vue?d0d7","webpack:///src/App.vue","webpack:///./src/App.vue?1160","webpack:///./src/App.vue?bff9","webpack:///./src/views/Home.vue?5c42","webpack:///./src/components/Train.vue?4cc3","webpack:///./src/components/MapLine.vue?4b66","webpack:///./src/helper.js","webpack:///src/components/MapLine.vue","webpack:///./src/components/MapLine.vue?f228","webpack:///./src/components/MapLine.vue?9cd3","webpack:///src/components/Train.vue","webpack:///./src/components/Train.vue?ab0d","webpack:///./src/components/Train.vue?1368","webpack:///./src/components/Clock.vue?af90","webpack:///src/components/Clock.vue","webpack:///./src/components/Clock.vue?caf2","webpack:///./src/components/Clock.vue?8f00","webpack:///src/views/Home.vue","webpack:///./src/views/Home.vue?493c","webpack:///./src/views/Home.vue?c853","webpack:///./src/views/About.vue?168d","webpack:///src/views/About.vue","webpack:///./src/views/About.vue?f1da","webpack:///./src/views/About.vue","webpack:///./src/views/Configurations.vue?d174","webpack:///./src/views/Configuration.vue?a847","webpack:///./src/components/DistanceRange.vue?6b1b","webpack:///src/components/DistanceRange.vue","webpack:///./src/components/DistanceRange.vue?8507","webpack:///./src/components/DistanceRange.vue","webpack:///./src/components/MapLocation.vue?8ebd","webpack:///src/components/MapLocation.vue","webpack:///./src/components/MapLocation.vue?2374","webpack:///./src/components/MapLocation.vue?cff9","webpack:///./src/components/Period.vue?42e5","webpack:///src/components/Period.vue","webpack:///./src/components/Period.vue?2fda","webpack:///./src/components/Period.vue?74d9","webpack:///src/views/Configuration.vue","webpack:///./src/views/Configuration.vue?709f","webpack:///./src/views/Configuration.vue?fe8f","webpack:///src/views/Configurations.vue","webpack:///./src/views/Configurations.vue?e440","webpack:///./src/views/Configurations.vue?81b6","webpack:///./src/router.js","webpack:///./src/store.js","webpack:///./src/main.js","webpack:///./src/components/MapLocation.vue?7854","webpack:///./src/components/Train.vue?c46b","webpack:///./src/views/Home.vue?f41f","webpack:///./src/views/Configurations.vue?075b","webpack:///./src/components/Period.vue?4185","webpack:///./src/components/MapLine.vue?9220"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","installedChunks","push","Object","prototype","hasOwnProperty","call","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","app","exports","module","l","m","c","d","name","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","p","jsonpArray","window","oldJsonpFunction","slice","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_App_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_App_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0___default","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_Configuration_vue_vue_type_style_index_0_id_44508f14_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_Configuration_vue_vue_type_style_index_0_id_44508f14_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0___default","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_Clock_vue_vue_type_style_index_0_id_7aab19f6_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_Clock_vue_vue_type_style_index_0_id_7aab19f6_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0___default","Appvue_type_template_id_3d32e632_render","_vm","this","_h","$createElement","_c","_self","attrs","id","_l","page","idx","to","_v","_s","bannerText","_e","staticRenderFns","Appvue_type_script_lang_js_","computed","isOnLine","$store","state","onLine","showBanner","pages","confs","configurations","map","conf","concat","src_Appvue_type_script_lang_js_","component","componentNormalizer","App","Homevue_type_template_id_22ab871b_scoped_true_render","staticClass","departure","route","stop_date_time","departure_date_time","departures","class","banner-show","isLoading","on","click","update","modeText","Homevue_type_template_id_22ab871b_scoped_true_staticRenderFns","Trainvue_type_template_id_2f22dcc4_scoped_true_render","status","mouseenter","$event","showLineBtn","mouseleave","style","line","direction","show","buttonName","displayTime","Trainvue_type_template_id_2f22dcc4_scoped_true_staticRenderFns","MapLinevue_type_template_id_6969af9a_scoped_true_render","showDialog","initialize","routeName","ref","staticStyle","height","width","zoom","center","mapCenter","url","mapUrl","stopPoints","lat-lng","icon","markerSelectedIcon","point","lat","lng","stopName","markerIcon","selectStop","message","preventDefault","stopPropagation","MapLinevue_type_template_id_6969af9a_scoped_true_staticRenderFns","urlAPIs","sncf","station","position","routeStopPoints","routeArrivals","stif","errors","Set","compareDate","date1","date2","hour","minute","checkSilentPeriod","_ref","getters","dialogOpen","date","Date","getHours","getMinutes","currentDate","periods","silentPeriods","some","period","from","checkURL","clear","apiName","replace","_","val","toString","undefined","add","size","getUrlTags","arguments","api","rgx","list","match","tag","getURL","_ref2","commit","extendState","cacheUrl","values","assign","encodeURIComponent","console","warn","Array","join","MapLinevue_type_script_lang_js_","props","String","Boolean","$nextTick","start","hourDeparture","hourArrival","Map","routeId","departureId","stop_point","label","leaflet_src_default","a","iconUrl","iconSize","iconAnchor","shadowUrl","shadowSize","shadowAnchor","methods","formatTime","arrival_date_time","_initialize","asyncToGenerator","regeneratorRuntime","mark","_callee","json","urlArrivals","resultArrivals","wrap","_context","prev","next","abrupt","dispatch","sent","ok","Error","parseStopPointResult","t0","t1","parseArrivals","t2","stop","parseTime","time","split","includes","_time$match","_time$match2","slicedToArray","h","error","stop_points","coord","lon","arrivals","arrival","linkNext","linkPrevious","isTerminal","latLngs","bounds","latLngBounds","getCenter","$refs","fitBounds","animate","duration","_this","log","forEach","pt","estimate","sort","b","currentIdx","findIndex","lngth","departureHour","arrivalHour","buildLink","depH","arrH","curPt","reduce","_idx","_point","watch","components","LMap","LTileLayer","LMarker","LPolyline","components_MapLinevue_type_script_lang_js_","MapLine_component","MapLine","Trainvue_type_script_lang_js_","codeColor","color","display_informations","info","commercial_mode","code","headSign","headsign","timeStr","ddateTime","ts","elapsed","Math","floor","getTime","now","min","abs","components_Trainvue_type_script_lang_js_","Train_component","Train","Clockvue_type_template_id_7aab19f6_scoped_true_render","Clockvue_type_template_id_7aab19f6_scoped_true_staticRenderFns","Clockvue_type_script_lang_js_","updateTime","minutes","hours","timer","pad","clearTimeout","setTimeout","nb","deleted","components_Clockvue_type_script_lang_js_","Clock_component","Clock","Homevue_type_script_lang_js_","type","Number","required","checkIndex","checkState","checkMode","test","currentIndex","$route","params","fetchState","goto","$router","activeConf","isSilent","$route.params.id","mount","views_Homevue_type_script_lang_js_","Home_component","Home","Aboutvue_type_template_id_33fc44b8_render","version","Aboutvue_type_template_id_33fc44b8_staticRenderFns","Aboutvue_type_script_lang_js_","package_0","views_Aboutvue_type_script_lang_js_","About_component","About","Configurationsvue_type_template_id_58d44d20_scoped_true_render","tab","active","activeTab","title","Configurationsvue_type_template_id_58d44d20_scoped_true_staticRenderFns","Configurationvue_type_template_id_44508f14_scoped_true_render","directives","rawName","expression","domProps","input","target","composing","tabName","isWrong","has","change","$$selectedVal","filter","options","selected","_value","multiple","opt","tags","token","stationId","addButton","model","callback","$$v","latLng","refreshTime","updatePeriod","delete","deletePeriod","addPeriod","disabled","isConfValid","toHome","statusText","remove","Configurationvue_type_template_id_44508f14_scoped_true_staticRenderFns","DistanceRangevue_type_template_id_02ef864c_scoped_true_render","max","__r","distance","distanceLabel","DistanceRangevue_type_template_id_02ef864c_scoped_true_staticRenderFns","DistanceRangevue_type_script_lang_js_","convertIn","set","convertOut","round","log10","u","pow","parseInt","components_DistanceRangevue_type_script_lang_js_","DistanceRange_component","DistanceRange","MapLocationvue_type_template_id_1c105210_scoped_true_render","setCenter","radius","getPosition","MapLocationvue_type_template_id_1c105210_scoped_true_staticRenderFns","MapLocationvue_type_script_lang_js_","toBounds","_this2","navigator","geolocation","getCurrentPosition","evt","_evt$coords","coords","latitude","longitude","$emit","accuracy","manageError","enableHighAccuracy","PERMISSION_DENIED","POSITION_UNAVAILABLE","TIMEOUT","_evt$latlng","latlng","LCircle","components_MapLocationvue_type_script_lang_js_","MapLocation_component","MapLocation","Periodvue_type_template_id_039a9b42_scoped_true_render","fromTime","toTime","Periodvue_type_template_id_039a9b42_scoped_true_staticRenderFns","Periodvue_type_script_lang_js_","buildHour","_value$split$map","v","_value$split$map2","_value$split$map3","_value$split$map4","components_Periodvue_type_script_lang_js_","Period_component","Period","Configurationvue_type_script_lang_js_","_value$split","_value$split2","helper_errors","text","good","bad","testing","offline","isValid","apiOptions","keys","apiModeOptions","GeoMap","views_Configurationvue_type_script_lang_js_","Configuration_component","Configuration","Configurationsvue_type_script_lang_js_","tabs","views_Configurationsvue_type_script_lang_js_","Configurations_component","Configurations","Vue","use","Router","router","base","process","routes","path","alias","redirect","Vuex","timerRefresh","initConf","nbItems","apiMode","setOneConfiguration","index","isNaN","copyStateConf","configuration","_i","_Object$entries","entries","_Object$entries$_i","store","Store","context","timezone","current_datetime","requestId","mutations","setState","setConfiguration","isArray","exception","saveConf","obj","_i2","_Object$entries2","_Object$entries2$_i","localStorage","nextTrainConfig","JSON","stringify","setStatus","_ref3","setCacheUrl","changePageActive","loading","loaded","openDialog","isOpen","actions","_ref4","connection","onchange","fetch","_fetch","_x","_x2","_ref5","headers","authorization","Content-Type","protocole","auth","Authorization","btoa","credentials","catch","err","_x3","_x4","_update","_callee2","_ref6","rId","response","_context2","_x5","nextUpdate","_ref7","createNewConfiguration","_ref8","removeConfiguration","_ref9","initializeStore","config","parse","document","location","search","attribute","_attribute$split","_attribute$split2","decodeURIComponent","productionTip","render","$mount","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_MapLocation_vue_vue_type_style_index_0_id_1c105210_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_MapLocation_vue_vue_type_style_index_0_id_1c105210_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0___default","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_Train_vue_vue_type_style_index_0_id_2f22dcc4_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_Train_vue_vue_type_style_index_0_id_2f22dcc4_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0___default","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_Home_vue_vue_type_style_index_0_id_22ab871b_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_Home_vue_vue_type_style_index_0_id_22ab871b_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0___default","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_Configurations_vue_vue_type_style_index_0_id_58d44d20_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_Configurations_vue_vue_type_style_index_0_id_58d44d20_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0___default","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_Period_vue_vue_type_style_index_0_id_039a9b42_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_Period_vue_vue_type_style_index_0_id_039a9b42_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0___default","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_MapLine_vue_vue_type_style_index_0_id_6969af9a_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_MapLine_vue_vue_type_style_index_0_id_6969af9a_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0___default"],"mappings":"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","file":"js/app.d72918ed.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"app\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([0,\"chunk-vendors\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","import mod from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=style&index=0&lang=css&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Configuration.vue?vue&type=style&index=0&id=44508f14&scoped=true&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Configuration.vue?vue&type=style&index=0&id=44508f14&scoped=true&lang=css&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Clock.vue?vue&type=style&index=0&id=7aab19f6&scoped=true&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Clock.vue?vue&type=style&index=0&id=7aab19f6&scoped=true&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"app\"}},[_c('router-view'),_c('div',{attrs:{\"id\":\"nav\"}},[_vm._l((_vm.pages),function(page,idx){return _c('span',{key:'link-'+idx+page},[_c('router-link',{attrs:{\"to\":'/home/' + idx}},[_vm._v(\"\\n              \"+_vm._s(page)+\"\\n          \")]),_vm._v(\" |\\n      \")],1)}),_c('router-link',{attrs:{\"to\":\"/configuration\"}},[_vm._v(\"Config\")]),_vm._v(\" |\\n      \"),_c('router-link',{attrs:{\"to\":\"/about\"}},[_vm._v(\"About\")])],2),(_vm.showBanner)?_c('div',{attrs:{\"id\":\"information-banner\"}},[_vm._v(\"\\n      \"+_vm._s(_vm.bannerText)+\"\\n  \")]):_vm._e()],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div id=\"app\">\n    <router-view/>\n    <div id=\"nav\">\n        <span  v-for=\"(page, idx) of pages\" :key=\"'link-'+idx+page\">\n            <router-link\n                :to=\"'/home/' + idx\"\n            >\n                {{page}}\n            </router-link> |\n        </span>\n        <router-link to=\"/configuration\">Config</router-link> |\n        <router-link to=\"/about\">About</router-link>\n    </div>\n    <div v-if=\"showBanner\"\n        id=\"information-banner\"\n    >\n        {{bannerText}}\n    </div>\n  </div>\n</template>\n\n<script>\n\nexport default {\n    name: 'App',\n    computed: {\n        isOnLine: function() {\n            return this.$store.state.onLine;\n        },\n        showBanner: function() {\n            return !this.isOnLine;\n        },\n        bannerText: function() {\n            if (!this.isOnLine) {\n                return 'Offline mode: no internet connection';\n            }\n            return '';\n        },\n        pages() {\n            const confs = this.$store.state.configurations;\n            return confs.map((conf, idx) => conf.name || `configuration #${idx + 1}`);\n        },\n    },\n};\n\n</script>\n\n<style>\nhtml {\n    height: 100%;\n    background-color: white;\n}\nbody {\n    height: 100%;\n    margin: 0;\n    overflow: hidden;\n}\n#app {\n    padding: 5px;\n    font-family: 'Avenir', Helvetica, Arial, sans-serif;\n    -webkit-font-smoothing: antialiased;\n    -moz-osx-font-smoothing: grayscale;\n    color: #2c3e50;\n    height: 100%;\n    display: grid;\n    grid-template: 1fr 30px / 100%;\n}\n#nav {\n   text-align: center;\n    padding: 5px;\n    font-size: 0.7em;\n}\n\n#nav a {\n    font-weight: bold;\n    color: #2c3e50;\n}\n\n#nav a.router-link-exact-active {\n    color: #42b983;\n}\n\n#information-banner {\n    position: absolute;\n    z-index: -1;\n    top: 50%;\n    left: 50%;\n    transform: translate(-50%, -50%);\n    font-size: 5vh;\n    padding: 2rem;\n    background-color: rgba(200, 200, 200, 0.5);\n    box-shadow: 0 5px 15px 2px black;\n}\n</style>\n","import mod from \"-!../node_modules/cache-loader/dist/cjs.js??ref--12-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../node_modules/cache-loader/dist/cjs.js??ref--12-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./App.vue?vue&type=template&id=3d32e632&\"\nimport script from \"./App.vue?vue&type=script&lang=js&\"\nexport * from \"./App.vue?vue&type=script&lang=js&\"\nimport style0 from \"./App.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"home\"},[_vm._l((_vm.departures),function(departure,idx){return _c('Train',{key:departure.route.id + departure.stop_date_time.departure_date_time + idx,attrs:{\"departure\":departure}})}),(_vm.departures.length === 0)?_c('div',{staticClass:\"banner-information\"},[_vm._v(\"\\n        Aucune ligne n'a t rcupre avec la configuration donne.\\n        \"),_c('router-link',{attrs:{\"to\":\"configuration\"}},[_vm._v(\"Voir la configuration\")])],1):_vm._e(),_c('div',{staticClass:\"banner-test\",class:{'banner-show': _vm.isLoading}},[_vm._v(\"\\n        Loading...\\n    \")]),(_vm.modeText)?_c('div',{staticClass:\"notification\",on:{\"click\":_vm.update}},[_vm._v(\"\\n        \"+_vm._s(_vm.modeText)+\"\\n    \")]):_vm._e(),_c('Clock',{staticClass:\"clock\"})],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"departure\",class:_vm.status,on:{\"mouseenter\":function($event){_vm.showLineBtn=true},\"mouseleave\":function($event){_vm.showLineBtn=false}}},[_c('div',{style:(_vm.codeColor)},[_vm._v(_vm._s(_vm.line))]),_c('div',[_vm._v(_vm._s(_vm.direction))]),_c('MapLine',{attrs:{\"show\":_vm.showLineBtn,\"buttonName\":\"i\",\"departure\":_vm.departure}}),_c('div',[_vm._v(_vm._s(_vm.displayTime))])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('span',[(_vm.show)?_c('button',{on:{\"click\":function($event){_vm.showDialog = true; _vm.initialize()}}},[_vm._v(\"\\n        \"+_vm._s(_vm.buttonName)+\"\\n    \")]):_vm._e(),(_vm.showDialog)?_c('dialog',{staticClass:\"map\"},[_c('header',[_vm._v(_vm._s(_vm.routeName))]),_c('LMap',{ref:\"map\",staticStyle:{\"height\":\"100%\",\"width\":\"100%\"},attrs:{\"zoom\":4,\"center\":_vm.mapCenter}},[_c('LTileLayer',{attrs:{\"url\":_vm.mapUrl}}),(!_vm.stopPoints)?_c('l-marker',{attrs:{\"lat-lng\":[42, 1],\"icon\":_vm.markerSelectedIcon}}):_vm._e(),_vm._l((_vm.stopPoints),function(ref){\nvar key = ref[0];\nvar point = ref[1];\nreturn _c('l-marker',{key:key,attrs:{\"lat-lng\":[point.lat, point.lng],\"icon\":key === _vm.stopName ? _vm.markerSelectedIcon : _vm.markerIcon},on:{\"click\":function($event){return _vm.selectStop(point)}}})})],2),_c('aside',[_c('label',[_vm._v(\"\\n                Arret: \"+_vm._s(_vm.stopName)+\"\\n            \")])]),_c('footer',[_c('span',{staticClass:\"message\"},[_vm._v(_vm._s(_vm.message))]),_c('button',{on:{\"click\":function($event){$event.preventDefault();$event.stopPropagation();_vm.showDialog = false}}},[_vm._v(\"Close\")])])],1):_vm._e()])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\nexport const urlAPIs = {\n    sncf: {\n        station: 'https://%(token)s@api.sncf.com/v1/coverage/sncf/stop_areas/stop_area%3A%(station)s/departures',\n        position: 'https://%(token)s@api.sncf.com/v1/coverage/sncf/coord/%(lng)s%3B%(lat)s/departures?distance=%(distance)s',\n        routeStopPoints: 'https://%(token)s@api.sncf.com/v1/coverage/sncf/routes/%(route)s/stop_points?count=100',\n        routeArrivals: 'https://%(token)s@api.sncf.com/v1/coverage/sncf/routes/%(route)s/arrivals?count=100',\n    },\n    stif: {\n        station: 'https://opendata.stif.info/service/api-stif-horaires/stop_areas/stop_area%3A%(station)s/departures&apikey=%(token)s',\n        position: 'https://opendata.stif.info/service/api-stif-horaires/coords/%(lng)s%3B%(lat)s/departures?count=%(nbItems)s&distance=%(distance)s&apikey=%(token)s',\n        routeStopPoints: 'https://opendata.stif.info/service/api-stif-horaires/routes/%(route)s/stop_points?count=100&apikey=%(token)s',\n        routeArrivals: 'https://opendata.stif.info/service/api-stif-horaires/routes/%(route)s/arrivals?count=100&apikey=%(token)s',\n    },\n};\n\nexport let errors = new Set();\n\nexport function compareDate(date1, date2) {\n    return date1.hour < date2.hour || (date1.hour === date2.hour && date1.minute < date2.minute);\n}\n\nexport function checkSilentPeriod({getters, state}) {\n    if (state.dialogOpen) {\n        return true;\n    }\n\n    const date = new Date();\n    const hour = date.getHours();\n    const minute = date.getMinutes();\n    const currentDate = {\n        hour, minute,\n    };\n    const periods = getters.silentPeriods;\n\n    return periods.some(period => compareDate(period.from, currentDate) && compareDate(currentDate, period.to));\n}\n\nexport function checkURL(state, url) {\n    errors.clear();\n\n    if (!url) {\n        url = urlAPIs[state.apiName];\n    }\n\n    url.replace(/%\\((\\w+)\\)s/g, (_, key) => {\n        const val = state[key];\n        if (!val || val.toString() === '' || val === undefined || val === null) {\n            errors.add(key);\n        }\n    });\n\n    return !errors.size;\n}\n\nexport function getUrlTags(name, mode = 'position'){\n    const api = urlAPIs[name];\n    const url = api && api[mode];\n    const rgx = /%\\(([^)]+)\\)s/g;\n    const list = url.match(rgx);\n    return list.map(tag => tag.replace(rgx, '$1'));\n}\n\nexport function getURL({ state, commit }, name, mode = 'position', extendState = {}) {\n    let url = state && state.cacheUrl;\n\n    if (url) {\n        return url;\n    }\n\n    const api = urlAPIs[name];\n    url = api && api[mode];\n\n    const values = Object.assign({}, state, extendState);\n\n    if (!url || !checkURL(values, url)) {\n        console.warn('wrong url', url, Array.from(errors).join('/'));\n        return '';\n    }\n\n    url = url.replace(/%\\((\\w+)\\)s/g, (_, key) => {\n        return encodeURIComponent(values[key]);\n    });\n\n    if (commit && !extendState) {\n        commit('setCacheUrl', url);\n    }\n\n    return url;\n}\n","<template>\n    <span>\n        <button v-if=\"show\"\n            @click=\"showDialog = true; initialize()\"\n        >\n            {{buttonName}}\n        </button>\n        <dialog v-if=\"showDialog\"\n            class=\"map\"\n        >\n            <header>{{routeName}}</header>\n            <LMap\n                style=\"height: 100%; width: 100%\"\n                :zoom=\"4\"\n                :center=\"mapCenter\"\n                ref=\"map\"\n            >\n                <LTileLayer :url=\"mapUrl\"></LTileLayer>\n                <l-marker v-if=\"!stopPoints\"\n                    :lat-lng=\"[42, 1]\"\n                    :icon=\"markerSelectedIcon\"\n                ></l-marker>\n                <l-marker v-for=\"[key, point] of stopPoints\"\n                    :lat-lng=\"[point.lat, point.lng]\"\n                    :icon=\"key === stopName ? markerSelectedIcon : markerIcon\"\n                    @click=\"selectStop(point)\"\n                    :key=\"key\"\n                />\n            </LMap>\n            <aside>\n                <label>\n                    Arret: {{stopName}}\n                </label>\n                <!-- <label>\n                    dpart: {{hourDeparture}}\n                </label>\n                <label>\n                    Arrive: {{hourArrival}}\n                </label> -->\n            </aside>\n            <footer>\n                <span class=\"message\">{{message}}</span>\n                <button @click.prevent.stop=\"showDialog = false\">Close</button>\n            </footer>\n        </dialog>\n    </span>\n</template>\n\n<script>\n\nimport 'leaflet/dist/leaflet.css';\nimport {LMap, LTileLayer, LMarker, LPolyline} from 'vue2-leaflet';\nimport L from 'leaflet';\nimport {getURL} from '@/helper';\n\nexport default {\n    name: 'geomapRoute',\n    props: {\n        departure: Object,\n        buttonName: String,\n        show: Boolean,\n    },\n    data () {\n        this.$nextTick(this.start.bind(this));\n        return {\n            showDialog: false,\n            mapUrl: 'http://{s}.tile.osm.org/{z}/{x}/{y}.png',\n            message: '',\n            stopName: '',\n            hourDeparture: '',\n            hourArrival: '',\n            stopPoints: new Map(),\n            mapCenter: [46.34432063334355, 2.605306736102118],\n        };\n    },\n    computed: {\n        routeId() {\n            return this.departure.route.id;\n        },\n        routeName() {\n            return this.departure.route.name;\n        },\n        departureId() {\n            return this.departure.stop_point.label;\n        },\n        markerIcon() {\n            return new L.icon({\n                iconUrl: 'data:image/svg+xml;utf-8,<svg version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" width=\"16px\" height=\"16px\" viewBox=\"0 0 32 32\" xml:space=\"preserve\"><style>circle{stroke:#3b85b9;cursor:pointer}svg:hover circle{stroke:#ff8100}</style><circle cx=\"16\" cy=\"16\" r=\"15\" fill=\"#2b82cb\"/><circle cx=\"16\" cy=\"16\" r=\"5\" fill=\"white\"/></svg>',\n                iconSize: [16, 16],\n                iconAnchor: [8, 8],\n                // popupAnchor: [-3, -76],\n                // shadowUrl: 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABkAAAApCAYAAADAk4LOAAAFgUlEQVR4Aa1XA5BjWRTN2oW17d3YaZtr2962HUzbDNpjszW24mRt28p47v7zq/bXZtrp/lWnXr337j3nPCe85NcypgSFdugCpW5YoDAMRaIMqRi6aKq5E3YqDQO3qAwjVWrD8Ncq/RBpykd8oZUb/kaJutow8r1aP9II0WmLKLIsJyv1w/kqw9Ch2MYdB++12Onxee/QMwvf4/Dk/Lfp/i4nxTXtOoQ4pW5Aj7wpici1A9erdAN2OH64x8OSP9j3Ft3b7aWkTg/Fm91siTra0f9on5sQr9INejH6CUUUpavjFNq1B+Oadhxmnfa8RfEmN8VNAsQhPqF55xHkMzz3jSmChWU6f7/XZKNH+9+hBLOHYozuKQPxyMPUKkrX/K0uWnfFaJGS1QPRtZsOPtr3NsW0uyh6NNCOkU3Yz+bXbT3I8G3xE5EXLXtCXbbqwCO9zPQYPRTZ5vIDXD7U+w7rFDEoUUf7ibHIR4y6bLVPXrz8JVZEql13trxwue/uDivd3fkWRbS6/IA2bID4uk0UpF1N8qLlbBlXs4Ee7HLTfV1j54APvODnSfOWBqtKVvjgLKzF5YdEk5ewRkGlK0i33Eofffc7HT56jD7/6U+qH3Cx7SBLNntH5YIPvODnyfIXZYRVDPqgHtLs5ABHD3YzLuespb7t79FY34DjMwrVrcTuwlT55YMPvOBnRrJ4VXTdNnYug5ucHLBjEpt30701A3Ts+HEa73u6dT3FNWwflY86eMHPk+Yu+i6pzUpRrW7SNDg5JHR4KapmM5Wv2E8Tfcb1HoqqHMHU+uWDD7zg54mz5/2BSnizi9T1Dg4QQXLToGNCkb6tb1NU+QAlGr1++eADrzhn/u8Q2YZhQVlZ5+CAOtqfbhmaUCS1ezNFVm2imDbPmPng5wmz+gwh+oHDce0eUtQ6OGDIyR0uUhUsoO3vfDmmgOezH0mZN59x7MBi++WDL1g/eEiU3avlidO671bkLfwbw5XV2P8Pzo0ydy4t2/0eu33xYSOMOD8hTf4CrBtGMSoXfPLchX+J0ruSePw3LZeK0juPJbYzrhkH0io7B3k164hiGvawhOKMLkrQLyVpZg8rHFW7E2uHOL888IBPlNZ1FPzstSJM694fWr6RwpvcJK60+0HCILTBzZLFNdtAzJaohze60T8qBzyh5ZuOg5e7uwQppofEmf2++DYvmySqGBuKaicF1blQjhuHdvCIMvp8whTTfZzI7RldpwtSzL+F1+wkdZ2TBOW2gIF88PBTzD/gpeREAMEbxnJcaJHNHrpzji0gQCS6hdkEeYt9DF/2qPcEC8RM28Hwmr3sdNyht00byAut2k3gufWNtgtOEOFGUwcXWNDbdNbpgBGxEvKkOQsxivJx33iow0Vw5S6SVTrpVq11ysA2Rp7gTfPfktc6zhtXBBC+adRLshf6sG2RfHPZ5EAc4sVZ83yCN00Fk/4kggu40ZTvIEm5g24qtU4KjBrx/BTTH8ifVASAG7gKrnWxJDcU7x8X6Ecczhm3o6YicvsLXWfh3Ch1W0k8x0nXF+0fFxgt4phz8QvypiwCCFKMqXCnqXExjq10beH+UUA7+nG6mdG/Pu0f3LgFcGrl2s0kNNjpmoJ9o4B29CMO8dMT4Q5ox8uitF6fqsrJOr8qnwNbRzv6hSnG5wP+64C7h9lp30hKNtKdWjtdkbuPA19nJ7Tz3zR/ibgARbhb4AlhavcBebmTHcFl2fvYEnW0ox9xMxKBS8btJ+KiEbq9zA4RthQXDhPa0T9TEe69gWupwc6uBUphquXgf+/FrIjweHQS4/pduMe5ERUMHUd9xv8ZR98CxkS4F2n3EUrUZ10EYNw7BWm9x1GiPssi3GgiGRDKWRYZfXlON+dfNbM+GgIwYdwAAAAASUVORK5CYII=',\n                // shadowSize: [25, 41],\n                // shadowAnchor: [22, 94],\n            });\n        },\n        markerSelectedIcon() {\n            return new L.icon({\n                iconUrl: 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABkAAAApCAYAAADAk4LOAAAFgUlEQVR4Aa1XA5BjWRTN2oW17d3YaZtr2962HUzbDNpjszW24mRt28p47v7zq/bXZtrp/lWnXr337j3nPCe85NcypgSFdugCpW5YoDAMRaIMqRi6aKq5E3YqDQO3qAwjVWrD8Ncq/RBpykd8oZUb/kaJutow8r1aP9II0WmLKLIsJyv1w/kqw9Ch2MYdB++12Onxee/QMwvf4/Dk/Lfp/i4nxTXtOoQ4pW5Aj7wpici1A9erdAN2OH64x8OSP9j3Ft3b7aWkTg/Fm91siTra0f9on5sQr9INejH6CUUUpavjFNq1B+Oadhxmnfa8RfEmN8VNAsQhPqF55xHkMzz3jSmChWU6f7/XZKNH+9+hBLOHYozuKQPxyMPUKkrX/K0uWnfFaJGS1QPRtZsOPtr3NsW0uyh6NNCOkU3Yz+bXbT3I8G3xE5EXLXtCXbbqwCO9zPQYPRTZ5vIDXD7U+w7rFDEoUUf7ibHIR4y6bLVPXrz8JVZEql13trxwue/uDivd3fkWRbS6/IA2bID4uk0UpF1N8qLlbBlXs4Ee7HLTfV1j54APvODnSfOWBqtKVvjgLKzF5YdEk5ewRkGlK0i33Eofffc7HT56jD7/6U+qH3Cx7SBLNntH5YIPvODnyfIXZYRVDPqgHtLs5ABHD3YzLuespb7t79FY34DjMwrVrcTuwlT55YMPvOBnRrJ4VXTdNnYug5ucHLBjEpt30701A3Ts+HEa73u6dT3FNWwflY86eMHPk+Yu+i6pzUpRrW7SNDg5JHR4KapmM5Wv2E8Tfcb1HoqqHMHU+uWDD7zg54mz5/2BSnizi9T1Dg4QQXLToGNCkb6tb1NU+QAlGr1++eADrzhn/u8Q2YZhQVlZ5+CAOtqfbhmaUCS1ezNFVm2imDbPmPng5wmz+gwh+oHDce0eUtQ6OGDIyR0uUhUsoO3vfDmmgOezH0mZN59x7MBi++WDL1g/eEiU3avlidO671bkLfwbw5XV2P8Pzo0ydy4t2/0eu33xYSOMOD8hTf4CrBtGMSoXfPLchX+J0ruSePw3LZeK0juPJbYzrhkH0io7B3k164hiGvawhOKMLkrQLyVpZg8rHFW7E2uHOL888IBPlNZ1FPzstSJM694fWr6RwpvcJK60+0HCILTBzZLFNdtAzJaohze60T8qBzyh5ZuOg5e7uwQppofEmf2++DYvmySqGBuKaicF1blQjhuHdvCIMvp8whTTfZzI7RldpwtSzL+F1+wkdZ2TBOW2gIF88PBTzD/gpeREAMEbxnJcaJHNHrpzji0gQCS6hdkEeYt9DF/2qPcEC8RM28Hwmr3sdNyht00byAut2k3gufWNtgtOEOFGUwcXWNDbdNbpgBGxEvKkOQsxivJx33iow0Vw5S6SVTrpVq11ysA2Rp7gTfPfktc6zhtXBBC+adRLshf6sG2RfHPZ5EAc4sVZ83yCN00Fk/4kggu40ZTvIEm5g24qtU4KjBrx/BTTH8ifVASAG7gKrnWxJDcU7x8X6Ecczhm3o6YicvsLXWfh3Ch1W0k8x0nXF+0fFxgt4phz8QvypiwCCFKMqXCnqXExjq10beH+UUA7+nG6mdG/Pu0f3LgFcGrl2s0kNNjpmoJ9o4B29CMO8dMT4Q5ox8uitF6fqsrJOr8qnwNbRzv6hSnG5wP+64C7h9lp30hKNtKdWjtdkbuPA19nJ7Tz3zR/ibgARbhb4AlhavcBebmTHcFl2fvYEnW0ox9xMxKBS8btJ+KiEbq9zA4RthQXDhPa0T9TEe69gWupwc6uBUphquXgf+/FrIjweHQS4/pduMe5ERUMHUd9xv8ZR98CxkS4F2n3EUrUZ10EYNw7BWm9x1GiPssi3GgiGRDKWRYZfXlON+dfNbM+GgIwYdwAAAAASUVORK5CYII=',\n                iconSize: [25, 41],\n                iconAnchor: [12, 41],\n                // popupAnchor: [-3, -76],\n                shadowUrl: 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABkAAAApCAYAAADAk4LOAAAFgUlEQVR4Aa1XA5BjWRTN2oW17d3YaZtr2962HUzbDNpjszW24mRt28p47v7zq/bXZtrp/lWnXr337j3nPCe85NcypgSFdugCpW5YoDAMRaIMqRi6aKq5E3YqDQO3qAwjVWrD8Ncq/RBpykd8oZUb/kaJutow8r1aP9II0WmLKLIsJyv1w/kqw9Ch2MYdB++12Onxee/QMwvf4/Dk/Lfp/i4nxTXtOoQ4pW5Aj7wpici1A9erdAN2OH64x8OSP9j3Ft3b7aWkTg/Fm91siTra0f9on5sQr9INejH6CUUUpavjFNq1B+Oadhxmnfa8RfEmN8VNAsQhPqF55xHkMzz3jSmChWU6f7/XZKNH+9+hBLOHYozuKQPxyMPUKkrX/K0uWnfFaJGS1QPRtZsOPtr3NsW0uyh6NNCOkU3Yz+bXbT3I8G3xE5EXLXtCXbbqwCO9zPQYPRTZ5vIDXD7U+w7rFDEoUUf7ibHIR4y6bLVPXrz8JVZEql13trxwue/uDivd3fkWRbS6/IA2bID4uk0UpF1N8qLlbBlXs4Ee7HLTfV1j54APvODnSfOWBqtKVvjgLKzF5YdEk5ewRkGlK0i33Eofffc7HT56jD7/6U+qH3Cx7SBLNntH5YIPvODnyfIXZYRVDPqgHtLs5ABHD3YzLuespb7t79FY34DjMwrVrcTuwlT55YMPvOBnRrJ4VXTdNnYug5ucHLBjEpt30701A3Ts+HEa73u6dT3FNWwflY86eMHPk+Yu+i6pzUpRrW7SNDg5JHR4KapmM5Wv2E8Tfcb1HoqqHMHU+uWDD7zg54mz5/2BSnizi9T1Dg4QQXLToGNCkb6tb1NU+QAlGr1++eADrzhn/u8Q2YZhQVlZ5+CAOtqfbhmaUCS1ezNFVm2imDbPmPng5wmz+gwh+oHDce0eUtQ6OGDIyR0uUhUsoO3vfDmmgOezH0mZN59x7MBi++WDL1g/eEiU3avlidO671bkLfwbw5XV2P8Pzo0ydy4t2/0eu33xYSOMOD8hTf4CrBtGMSoXfPLchX+J0ruSePw3LZeK0juPJbYzrhkH0io7B3k164hiGvawhOKMLkrQLyVpZg8rHFW7E2uHOL888IBPlNZ1FPzstSJM694fWr6RwpvcJK60+0HCILTBzZLFNdtAzJaohze60T8qBzyh5ZuOg5e7uwQppofEmf2++DYvmySqGBuKaicF1blQjhuHdvCIMvp8whTTfZzI7RldpwtSzL+F1+wkdZ2TBOW2gIF88PBTzD/gpeREAMEbxnJcaJHNHrpzji0gQCS6hdkEeYt9DF/2qPcEC8RM28Hwmr3sdNyht00byAut2k3gufWNtgtOEOFGUwcXWNDbdNbpgBGxEvKkOQsxivJx33iow0Vw5S6SVTrpVq11ysA2Rp7gTfPfktc6zhtXBBC+adRLshf6sG2RfHPZ5EAc4sVZ83yCN00Fk/4kggu40ZTvIEm5g24qtU4KjBrx/BTTH8ifVASAG7gKrnWxJDcU7x8X6Ecczhm3o6YicvsLXWfh3Ch1W0k8x0nXF+0fFxgt4phz8QvypiwCCFKMqXCnqXExjq10beH+UUA7+nG6mdG/Pu0f3LgFcGrl2s0kNNjpmoJ9o4B29CMO8dMT4Q5ox8uitF6fqsrJOr8qnwNbRzv6hSnG5wP+64C7h9lp30hKNtKdWjtdkbuPA19nJ7Tz3zR/ibgARbhb4AlhavcBebmTHcFl2fvYEnW0ox9xMxKBS8btJ+KiEbq9zA4RthQXDhPa0T9TEe69gWupwc6uBUphquXgf+/FrIjweHQS4/pduMe5ERUMHUd9xv8ZR98CxkS4F2n3EUrUZ10EYNw7BWm9x1GiPssi3GgiGRDKWRYZfXlON+dfNbM+GgIwYdwAAAAASUVORK5CYII=',\n                shadowSize: [25, 41],\n                shadowAnchor: [12, 41],\n            });\n        },\n    },\n    methods: {\n        start() {\n            this.stopName = this.departureId;\n            this.hourDeparture = this.formatTime(this.departure.stop_date_time.departure_date_time);\n            this.hourArrival = this.formatTime(this.departure.stop_date_time.arrival_date_time);\n        },\n        async initialize() {\n            const url = getURL(this.$store, 'sncf', 'routeStopPoints', {route: this.routeId});\n            if (!url) {\n                this.message = 'Wrong url: cannot fetch route.';\n                return;\n            }\n            try {\n                const result = await this.$store.dispatch('fetch', url);\n                if (!result.ok) {\n                    throw new Error('Data failed to be fetched');\n                }\n                const json = await result.json();\n                this.parseStopPointResult(json);\n\n                const urlArrivals = getURL(this.$store, 'sncf', 'routeArrivals', {route: this.routeId});\n                if (!urlArrivals) {\n                    this.message = 'Wrong url: cannot fetch arrivals.';\n                    return;\n                }\n                const resultArrivals = await this.$store.dispatch('fetch', urlArrivals);\n                if (!resultArrivals.ok) {\n                    throw new Error('Arrivals data failed to be fetched');\n                }\n                this.parseArrivals(await resultArrivals.json());\n                this.message = '';\n            } catch(e) {\n                this.message = e.message;\n            }\n        },\n        parseTime(time = '') {\n            return time.split('T')[1];\n        },\n        formatTime(time = '') {\n            if (time.includes('T')) {\n                time = this.parseTime(time)\n            }\n            if (!time) {\n                return '---';\n            }\n            const [_, h, m, s] = time.match(/(\\d\\d)(\\d\\d)(\\d\\d)/);\n            return `${h}:${m}`;\n        },\n        parseStopPointResult(result) {\n            if (result.error) {\n                this.message = result.error.message;\n                return;\n            }\n\n            const stopPoints = result.stop_points.map((point) => [point.label, {\n                name: point.label,\n                lat: +point.coord.lat,\n                lng: +point.coord.lon,\n                departures: [],\n                arrivals: [],\n                departure: '',\n                arrival: '',\n                linkNext: null,\n                linkPrevious: null,\n                isTerminal: false,\n            }]);\n\n            this.stopPoints = new Map(stopPoints);\n\n            const latLngs = stopPoints.map(([k, point]) => [point.lat, point.lng]);\n            const bounds = L.latLngBounds(latLngs);\n            this.mapCenter = bounds.getCenter();\n\n            this.$refs.map.fitBounds(bounds, { animate: true, duration: 0.5 });\n        },\n        parseArrivals(result) {\n            const stopPoints = this.stopPoints;\n            console.log(result)\n            result.arrivals.forEach((point) => {\n                const key = point.stop_point.label;\n                const departure = this.parseTime(point.stop_date_time.departure_date_time);\n                const arrival = this.parseTime(point.stop_date_time.arrival_date_time);\n                const pt = stopPoints.get(key);\n                pt.departures.push(departure);\n                pt.arrivals.push(arrival);\n            });\n\n            const list = Array.from(stopPoints.values());\n                console.log('step0', list)\n\n            function estimate(point) {\n                return +point.departure[0] || 0;\n            }\n            list.sort((a, b) => estimate(a) - estimate(b));\n            console.log('step1')\n            const departureId = this.departureId;\n            const currentIdx = list.findIndex((point) => point.name === departureId);\n            const lngth = list.length - 1;\n            const departureHour = this.parseTime(this.departure.stop_date_time.departure_date_time);\n            const arrivalHour = this.parseTime(this.departure.stop_date_time.arrival_date_time);\n           console.log('step2')\n            function buildLink(point, idx) {\n                if (idx === 0) {\n                    point.isTerminal = true;\n                } else {\n                    point.linkPrevious = list[idx - 1];\n                }\n                if (idx === lngth) {\n                    point.isTerminal = true;\n                } else {\n                    point.linkNext = list[idx + 1];\n                }\n            }\n            let depH = departureHour;\n            let arrH = arrivalHour;\n            const curPt = list[currentIdx];\n            buildLink(curPt, currentIdx);\n            curPt.departure = departureHour;\n            curPt.arrival = arrivalHour;\n            console.log('step3', currentIdx)\n\n            for (let idx = currentIdx - 1; idx >= 0; idx--) {\n                const point = list[idx];\n                buildLink(point, idx);\n                console.log('dec', point.departures, depH)\n                depH = point.departures.reduce((d, h) => h <= depH ? h > d ? h : d : d + '0', '');\n                arrH = point.arrivals.reduce((d, h) => h <= arrH ? h > d ? h : d : d, '');\n                point.departure = depH;\n                point.arrival = arrH;\n            }\n            for (let idx = currentIdx + 1; idx <= lngth; idx++) {\n                const point = list[idx];\n                buildLink(point, idx);\n                console.log('cres', point.departures, depH)\n                depH = point.departures.reduce((d, h) => h >= depH ? h < d ? h : d : d, 'T');\n                arrH = point.arrivals.reduce((d, h) => h >= arrH ? h < d ? h : d : d, 'T');\n                point.departure = depH;\n                point.arrival = arrH;\n            }\n            console.log('step4')\n        },\n        selectStop(point) {\n            this.stopName = point.name;\n            this.hourDeparture = this.formatTime(point.departure);\n            this.hourArrival = this.formatTime(point.arrival);\n        },\n    },\n    watch: {\n        showDialog() {\n            this.$store.commit('openDialog', this.showDialog);\n        },\n    },\n    components: {\n        LMap, LTileLayer, LMarker, LPolyline,\n    },\n};\n</script>\n\n<style scoped>\n.edit-button {\n    margin-left: 1em;\n}\n.mainElement {\n    cursor: pointer;\n}\n.message{\n    font-size: 0.8em;\n    color: red;\n    font-style: italic;\n}\n.map {\n    top: 5%;\n    width: 75%;\n    height: 85%;\n    padding: 5px 2rem;\n    display: grid;\n    grid-template: 3vh 1fr 3vh 4vh 3vh / 100%;\n    background: rgba(200, 200, 250, 0.5);\n    box-shadow: 0 5px 25px 1px black;\n    background: white;\n    font-size: 2vh;\n    z-index: 1000;\n}\n/* .map > * {\n    align-items: center;\n} */\nheader {\n    text-align: center;\n}\nfooter {\n    text-align: right;\n}\nfooter > button {\n    margin-left: 1rem;\n}\nlabel {\n    display: block;\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MapLine.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MapLine.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./MapLine.vue?vue&type=template&id=6969af9a&scoped=true&\"\nimport script from \"./MapLine.vue?vue&type=script&lang=js&\"\nexport * from \"./MapLine.vue?vue&type=script&lang=js&\"\nimport style0 from \"./MapLine.vue?vue&type=style&index=0&id=6969af9a&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"6969af9a\",\n  null\n  \n)\n\nexport default component.exports","<template>\n    <div\n        class=\"departure\"\n        :class=\"status\"\n        @mouseenter=\"showLineBtn=true\"\n        @mouseleave=\"showLineBtn=false\"\n    >\n        <div :style=\"codeColor\">{{line}}</div>\n        <div>{{direction}}</div>\n        <MapLine\n            :show=\"showLineBtn\"\n            buttonName=\"i\"\n            :departure=\"departure\"\n        />\n        <div>{{displayTime}}</div>\n    </div>\n</template>\n\n<script>\n\nimport MapLine from '@/components/MapLine.vue';\n\nexport default {\n    name: 'train',\n    props: {\n        departure: Object,\n    },\n    data() {\n        return {\n            showLineBtn: false,\n        };\n    },\n    computed: {\n        codeColor: function() {\n            const color = this.departure.display_informations.color;\n            return `color:#${color}`;\n        },\n        line: function() {\n            const info = this.departure.display_informations;\n            const mode = info.commercial_mode;\n            const code = info.label;\n            const headSign = info.headsign;\n            if (mode.length + code.length > 12) {\n                if (mode.length + headSign.length <= 12) {\n                    return `${mode} ${headSign}`;\n                }\n                return mode;\n            }\n            return `${mode} ${code}`;\n        },\n        direction: function() {\n            return this.departure.display_informations.direction;\n        },\n        time: function() {\n            const timeStr = this.departure.stop_date_time.departure_date_time;\n            const ddateTime = timeStr.replace(/(\\d{4})(\\d{2})(\\d{2})T(\\d{2})(\\d{2})(\\d{2})/, '$1-$2-$3 $4:$5:$6');\n            const ts = new Date(ddateTime);\n            const elapsed = Math.floor((ts.getTime() - Date.now()) / 60000);\n\n            return elapsed;\n        },\n        displayTime: function() {\n            const time = this.time;\n            let min = Math.abs(time) % 60;\n            const hour = Math.floor(time / 60);\n            if (hour) {\n                if (min < 10) {\n                    min = `0${min}`;\n                }\n                return `${hour} h ${min}`;\n            }\n            return `${min} min`;\n        },\n        status: function() {\n            const time = this.time;\n            if (time > 0) {\n                return 'scheduled';\n            }\n            if (time === 0) {\n                return 'coming';\n            }\n            return 'late';\n        },\n    },\n    components: {\n        MapLine,\n    }\n};\n</script>\n\n<style scoped>\n.departure {\n    display: grid;\n    grid-template-columns: 15vw 1fr 2rem 10vw;\n    align-items: center;\n    font-size: 2vw;\n    text-align: left;\n}\n\n.coming {\n    background-color: rgba(245, 235, 170, 0.4);\n    color: rgb(180, 180, 180);\n}\n.late {\n    background-color: rgba(250, 150, 120, 0.4);\n    color: rgb(90, 60, 50);\n}\n.scheduled:nth-child(2n+1) {\n    background-color: rgba(200, 220, 220, 0.2);\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Train.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Train.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Train.vue?vue&type=template&id=2f22dcc4&scoped=true&\"\nimport script from \"./Train.vue?vue&type=script&lang=js&\"\nexport * from \"./Train.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Train.vue?vue&type=style&index=0&id=2f22dcc4&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"2f22dcc4\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"clock\",on:{\"click\":_vm.update}},[_vm._v(\"\\n    \"+_vm._s(_vm.time)+\"\\n\")])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n    <div class=\"clock\" @click=\"update\">\n        {{time}}\n    </div>\n</template>\n\n<script>\n\nexport default {\n    name: 'clock',\n    data: function() {\n        this.$nextTick(this.updateTime.bind(this));\n        return {\n            minutes: 0,\n            hours: 0,\n            timer: 0,\n        };\n    },\n    computed: {\n        time: function() {\n            return `${this.pad(this.hours)}:${this.pad(this.minutes)}`;\n        },\n    },\n    methods: {\n        updateTime: function() {\n            clearTimeout(this.timer);\n            const d = new Date();\n            this.hours = d.getHours();\n            this.minutes = d.getMinutes();\n            this.timer = setTimeout(this.updateTime.bind(this), 10000);\n        },\n        update: function() {\n            this.$store.dispatch('update');\n        },\n        pad: function(nb) {\n            if (nb >= 10) {\n                return nb;\n            }\n            return `0${nb}`;\n        },\n    },\n    deleted: function() {\n        clearTimeout(this.timer);\n    },\n};\n</script>\n\n<style scoped>\n.clock {\n    display: inline-block;\n    padding: 0.5rem;\n    background-color: black;\n    color: yellow;\n    box-shadow: 0 0.5rem 2rem rgb(100, 100, 100);\n    border-radius: 0.5em;\n    font-size: 1vw;\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Clock.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Clock.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Clock.vue?vue&type=template&id=7aab19f6&scoped=true&\"\nimport script from \"./Clock.vue?vue&type=script&lang=js&\"\nexport * from \"./Clock.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Clock.vue?vue&type=style&index=0&id=7aab19f6&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"7aab19f6\",\n  null\n  \n)\n\nexport default component.exports","<template>\n    <div class=\"home\">\n        <Train v-for=\"(departure, idx) of departures\"\n            :key=\"departure.route.id + departure.stop_date_time.departure_date_time + idx\"\n            :departure=\"departure\"\n        />\n        <div v-if=\"departures.length === 0\"\n            class=\"banner-information\"\n        >\n            Aucune ligne n'a t rcupre avec la configuration donne.\n            <router-link to=\"configuration\">Voir la configuration</router-link>\n        </div>\n        <div\n            class=\"banner-test\"\n            :class=\"{'banner-show': isLoading}\"\n        >\n            Loading...\n        </div>\n        <div v-if=\"modeText\"\n            class=\"notification\"\n            @click=\"update\"\n        >\n            {{modeText}}\n        </div>\n        <Clock class=\"clock\" />\n    </div>\n</template>\n\n<script>\nimport Train from '@/components/Train.vue';\nimport Clock from '@/components/Clock.vue';\nimport { checkSilentPeriod } from '@/helper.js';\n\nexport default {\n    name: 'home',\n    props: {\n        id: {\n            type: Number,\n            required: false,\n        },\n    },\n    data: function() {\n        this.$nextTick(() => {\n            this.checkIndex();\n        });\n        this.checkState();\n        this.checkMode();\n        setTimeout(() => {\n            this.test = true;\n        }, 2000);\n\n        return {\n            currentIndex: this.id || this.$route.params.id,\n            mode: 'normal',\n            test: false,\n        };\n    },\n    computed: {\n        departures: function() {\n            return this.$store.state.departures.slice(0, 10);\n        },\n        isLoading: function() {\n            return this.$store.state.isLoading;\n        },\n        fetchState: function() {\n            this.checkMode();\n            return this.$store.state.fetchState;\n        },\n        modeText() {\n            switch (this.mode) {\n                case 'silent': return 'Silent mode: Aucun rafraichissement n\\'est effectu automatiquement';\n                default: return '';\n            }\n        },\n    },\n    methods: {\n        update: function() {\n            this.$store.dispatch('update');\n        },\n        goto: function(url) {\n            this.$router.push(url);\n        },\n        checkIndex: function() {\n            const idx = this.currentIndex;\n\n            if (typeof idx !== 'undefined' && idx !== this.$store.state.activeConf) {\n                this.$store.commit('changePageActive', idx);\n                this.$store.dispatch('update');\n            }\n        },\n        checkState: function() {\n            if (this.fetchState === 'bad') {\n                this.goto('configuration');\n            }\n        },\n        checkMode: function() {\n            const isSilent = checkSilentPeriod(this.$store);\n            this.mode = isSilent ? 'silent' : 'normal';\n        },\n    },\n    watch: {\n        fetchState: function() {\n            this.checkState();\n        },\n        id() {\n            this.currentIndex = this.id;\n        },\n        '$route.params.id': function() {\n            this.currentIndex = this.$route.params.id;\n        },\n        currentIndex() {\n            this.checkIndex();\n        },\n    },\n    mount() {\n        this.update();\n    },\n    components: {\n        Train, Clock,\n    },\n};\n</script>\n\n<style scoped>\n.home {\n    display: grid;\n    grid-template: repeat(10, 1fr) / 100%;\n}\n.clock {\n    position: absolute;\n    top: 1vw;\n    right: 1vw;\n}\n\n.banner-information {\n    position: absolute;\n    z-index: 5;\n    top: 30%;\n    left: 50%;\n    transform: translate(-50%, -50%);\n    font-size: 3vh;\n    padding: 1rem;\n    background-color: rgba(160, 160, 255, 0.6);\n    box-shadow: 0 5px 15px 2px black;\n}\n.notification {\n    position: absolute;\n    top: 0;\n    left: 50%;\n    transform: translate(-50%, 0);\n    font-size: 3vh;\n    padding: 1rem;\n    background-color: rgba(160, 160, 160, 0.4);\n    box-shadow: 0 5px 15px 0 black;\n    border-bottom-left-radius: 1rem;\n    border-bottom-right-radius: 1rem;\n    cursor: pointer;\n}\n.banner-test {\n    position: absolute;\n    z-index: 10;\n    top: 50%;\n    left: 50%;\n    transform: translate(-50%, -50%);\n    font-size: 3vh;\n    padding: 1rem;\n    transition: opacity 100ms ;\n    opacity: 0;\n}\n.banner-show {\n    transition-duration: 2s;\n    opacity: 1;\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Home.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Home.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Home.vue?vue&type=template&id=22ab871b&scoped=true&\"\nimport script from \"./Home.vue?vue&type=script&lang=js&\"\nexport * from \"./Home.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Home.vue?vue&type=style&index=0&id=22ab871b&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"22ab871b\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"about\"},[_c('h1',[_vm._v(\"Objectif\")]),_c('p',[_vm._v(\"Une page de test pour visualiser les horaires des trains d'une gare.\")]),_c('h1',[_vm._v(\"Information\")]),_c('p',[_vm._v(\"Version: \"+_vm._s(_vm.version))]),_c('p',[_vm._v(\"Auteur: Restimel - 28 / 04 / 2019\")])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n    <div class=\"about\">\n        <h1>Objectif</h1>\n        <p>Une page de test pour visualiser les horaires des trains d'une gare.</p>\n        <h1>Information</h1>\n        <p>Version: {{version}}</p>\n        <p>Auteur: Restimel - 28 / 04 / 2019</p>\n    </div>\n</template>\n\n<script>\nimport { version } from '../../package.json';\n\nexport default {\n    name: 'about',\n    data: function() {\n        return {\n            version: version,\n        };\n    },\n};\n</script>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./About.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./About.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./About.vue?vue&type=template&id=33fc44b8&\"\nimport script from \"./About.vue?vue&type=script&lang=js&\"\nexport * from \"./About.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"configuration\"},[_c('h1',[_vm._v(\"Configuration\")]),_c('div',{staticClass:\"tabs\"},[_vm._l((_vm.tabs),function(tab,idx){return _c('div',{key:'tab-' + idx,staticClass:\"tab\",class:{active: idx === _vm.activeTab},on:{\"click\":function($event){_vm.activeTab = idx}}},[_vm._v(\"\\n            \"+_vm._s(tab)+\"\\n        \")])}),_c('div',{staticClass:\"tab tab__add-configuration\",attrs:{\"title\":\"Crer une nouvelle configuration\"},on:{\"click\":_vm.add}},[_vm._v(\"\\n            +\\n        \")])],2),_c('Configuration')],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"configuration\"},[_c('div',{staticClass:\"content\"},[_c('label',[_vm._v(\"\\n            Nom de cette configuration:\\n            \"),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.tabName),expression:\"tabName\"}],attrs:{\"type\":\"name\"},domProps:{\"value\":(_vm.tabName)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.tabName=$event.target.value}}})]),_c('label',{class:{ isWrong: _vm.errors.has('apiName') }},[_vm._v(\"\\n            API:\\n            \"),_c('select',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.apiName),expression:\"apiName\"}],on:{\"change\":function($event){var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = \"_value\" in o ? o._value : o.value;return val}); _vm.apiName=$event.target.multiple ? $$selectedVal : $$selectedVal[0]}}},_vm._l((_vm.apiOptions),function(opt){return _c('option',{key:opt.id,domProps:{\"value\":opt.id}},[_vm._v(\"\\n                    \"+_vm._s(opt.label)+\"\\n                \")])}),0)]),(_vm.tags.includes('token'))?_c('label',{class:{ isWrong: _vm.errors.has('token') }},[_vm._v(\"\\n            API token: \"),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.token),expression:\"token\"}],domProps:{\"value\":(_vm.token)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.token=$event.target.value}}})]):_vm._e(),(_vm.tags.includes('station'))?_c('label',{class:{ isWrong: _vm.errors.has('station') }},[_vm._v(\"\\n            Id de gare: \"),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.stationId),expression:\"stationId\"}],domProps:{\"value\":(_vm.stationId)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.stationId=$event.target.value}}})]):_vm._e(),(_vm.tags.includes('lat') || _vm.tags.includes('lng'))?_c('label',{class:{ isWrong: _vm.errors.has('lat') || _vm.errors.has('lng') }},[_vm._v(\"\\n            Lieu:\\n            \"),_c('GeoMap',{attrs:{\"addButton\":\"edit\"},model:{value:(_vm.latLng),callback:function ($$v) {_vm.latLng=$$v},expression:\"latLng\"}})],1):_vm._e(),(_vm.tags.includes('distance'))?_c('label',{class:{ isWrong: _vm.errors.has('distance') }},[_vm._v(\"\\n            Distance  partir du lieu: \"),_c('DistanceRange')],1):_vm._e(),_c('label',{class:{ isWrong: _vm.errors.has('refreshTime') }},[_vm._v(\"\\n            Temps de rafraichissement: \"),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.refreshTime),expression:\"refreshTime\"}],attrs:{\"type\":\"number\",\"min\":\"1\"},domProps:{\"value\":(_vm.refreshTime)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.refreshTime=$event.target.value}}}),_vm._v(\"s\\n        \")]),_c('label',{class:{ isWrong: _vm.errors.has('silentPeriods') }},[_vm._v(\"\\n            Priodes sans rafraichissement:\\n                \"),_vm._l((_vm.silentPeriods),function(period,key){return _c('Period',{key:key,attrs:{\"period\":period},on:{\"input\":function (period){ return _vm.updatePeriod(key, period); },\"delete\":function($event){return _vm.deletePeriod(key)}}})}),_c('button',{on:{\"click\":_vm.addPeriod}},[_vm._v(\"+\")])],2),_c('div',[_c('button',{attrs:{\"disabled\":!_vm.isConfValid},on:{\"click\":_vm.update}},[_vm._v(\"\\n                Test\\n            \")]),(_vm.isValid)?_c('button',{on:{\"click\":_vm.toHome}},[_vm._v(\"\\n                Voir les dparts\\n            \")]):_c('button',{attrs:{\"disabled\":\"\"}},[_vm._v(\"\\n                Configuration invalide\\n            \")])]),_c('div',{class:_vm.fetchState},[_vm._v(\"\\n            \"+_vm._s(_vm.statusText)+\"\\n        \")]),_c('button',{on:{\"click\":_vm.remove}},[_vm._v(\"\\n            Supprimer cette configuration\\n        \")])])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('span',[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.distance),expression:\"distance\"}],attrs:{\"type\":\"range\",\"min\":\"1\",\"max\":\"50\"},domProps:{\"value\":(_vm.distance)},on:{\"__r\":function($event){_vm.distance=$event.target.value}}}),_vm._v(\"\\n    \"+_vm._s(_vm.distanceLabel)+\"\\n\")])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n    <span>\n        <input\n            v-model=\"distance\"\n            type=\"range\"\n            min=\"1\"\n            max=\"50\"\n        />\n        {{distanceLabel}}\n    </span>\n</template>\n\n<script>\n\nexport default {\n    name: 'distanceRange',\n    props: {\n        departure: Object,\n    },\n    computed: {\n        distance: {\n            get: function() {\n                return this.convertIn(this.$store.state.distance);\n            },\n            set: function(value) {\n                this.$store.commit('setConfiguration', { distance: this.convertOut(value) });\n            },\n        },\n        distanceLabel: function() {\n            let distance = this.convertOut(this.distance);\n            if (distance < 1000) {\n                return `${distance}m`;\n            }\n            distance = Math.round(distance / 100) / 10;\n            return `${distance}km`;\n        },\n    },\n    methods: {\n        convertIn(value) {\n            const d = Math.floor(Math.log10(value));\n            const u = Math.floor(value/(10**d)) - 1;\n            const result = d * 10 + u;\n            return parseInt(result.toString(), 9);\n        },\n        convertOut(value) {\n            value = +value.toString(9);\n            const d = Math.floor(value / 10);\n            const u = value % 10 + 1;\n            const result =(10 ** d) * u;\n            return result;\n        },\n    },\n};\n</script>\n\n<style scoped>\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DistanceRange.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DistanceRange.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./DistanceRange.vue?vue&type=template&id=02ef864c&scoped=true&\"\nimport script from \"./DistanceRange.vue?vue&type=script&lang=js&\"\nexport * from \"./DistanceRange.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"02ef864c\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('span',[_c('span',{staticClass:\"mainElement\",on:{\"click\":function($event){_vm.show = true; _vm.initialize()}}},[_vm._v(\"\\n        \"+_vm._s(_vm.value)+\"\\n    \")]),(_vm.addButton)?_c('button',{staticClass:\"edit-button\",on:{\"click\":function($event){_vm.show = true; _vm.initialize()}}},[_vm._v(\"\\n        \"+_vm._s(_vm.addButton)+\"\\n    \")]):_vm._e(),(_vm.show)?_c('dialog',{staticClass:\"map\"},[_c('header',[_vm._v(\"Position\")]),_c('LMap',{ref:\"map\",staticStyle:{\"height\":\"100%\",\"width\":\"100%\"},attrs:{\"zoom\":_vm.zoom,\"center\":_vm.mapCenter},on:{\"click\":_vm.setCenter}},[_c('LTileLayer',{attrs:{\"url\":_vm.url}}),_c('LCircle',{attrs:{\"lat-lng\":_vm.center,\"radius\":_vm.radius,\"color\":\"red\"}})],1),_c('aside',[_vm._v(\"lat: \"+_vm._s(_vm.lat)+\" lng: \"+_vm._s(_vm.lng))]),_c('aside',[_c('label',[_vm._v(\"\\n                Distance: \"),_c('DistanceRange')],1)]),_c('footer',[_c('span',[_vm._v(_vm._s(_vm.message))]),_c('button',{on:{\"click\":_vm.getPosition}},[_vm._v(\"Ma position actuelle\")]),_c('button',{on:{\"click\":function($event){$event.preventDefault();$event.stopPropagation();_vm.show = false}}},[_vm._v(\"Close\")])])],1):_vm._e()])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n    <span>\n        <span class=\"mainElement\" @click=\"show = true; initialize()\">\n            {{value}}\n        </span>\n        <button v-if=\"addButton\"\n            class=\"edit-button\"\n            @click=\"show = true; initialize()\"\n        >\n            {{addButton}}\n        </button>\n        <dialog v-if=\"show\"\n            class=\"map\"\n        >\n            <header>Position</header>\n            <LMap\n                style=\"height: 100%; width: 100%\"\n                :zoom=\"zoom\"\n                :center=\"mapCenter\"\n                ref=\"map\"\n                @click=\"setCenter\"\n            >\n                <LTileLayer :url=\"url\"></LTileLayer>\n                <LCircle\n                    :lat-lng=\"center\"\n                    :radius=\"radius\"\n                    color=\"red\"\n                />\n            </LMap>\n            <aside>lat: {{lat}} lng: {{lng}}</aside>\n            <aside>\n                <label>\n                    Distance: <DistanceRange />\n                </label>\n            </aside>\n            <footer>\n                <span>{{message}}</span>\n                <button @click=\"getPosition\">Ma position actuelle</button>\n                <button @click.prevent.stop=\"show = false\">Close</button>\n            </footer>\n        </dialog>\n    </span>\n</template>\n\n<script>\n\nimport 'leaflet/dist/leaflet.css';\nimport DistanceRange from '@/components/DistanceRange.vue';\nimport {LMap, LTileLayer, LCircle} from 'vue2-leaflet';\nimport L from 'leaflet';\n\nexport default {\n    name: 'geomap',\n    props: {\n        value: String,\n        addButton: String,\n    },\n    data () {\n        this.$nextTick(this.initialize);\n        return {\n            show: false,\n            url: 'http://{s}.tile.osm.org/{z}/{x}/{y}.png',\n            zoom: this.value ? 16 : 5,\n            mapCenter: [46.34432063334355, 2.605306736102118],\n            message: '',\n        };\n    },\n    computed: {\n        lat: function() {\n            if (!this.value) {\n                return 0;\n            }\n            return +this.value.split(';')[0];\n        },\n        lng: function() {\n            if (!this.value) {\n                return 0;\n            }\n            return +this.value.split(';')[1];\n        },\n        center: function() {\n            return [this.lat, this.lng];\n        },\n        radius: function() {\n            return this.$store.state.distance;\n        },\n    },\n    methods: {\n        initialize() {\n            if (this.value) {\n                this.mapCenter = this.center.slice();\n                this.$nextTick(() => {\n                    const radius = this.radius;\n                    if (this.$refs.map && radius) {\n                        const point = L.latLng(this.mapCenter);\n                        this.$refs.map.fitBounds(point.toBounds(radius));\n                    }\n                });\n            }\n        },\n        getPosition() {\n            this.message = 'Golocalisation en cours...';\n            navigator.geolocation.getCurrentPosition(\n                evt => {\n                    this.message = '';\n                    const {latitude: lat, longitude: lng} = evt.coords;\n                    this.$emit('input', `${lat};${lng}`);\n                    this.mapCenter = [lat, lng];\n                    const accuracy = evt.coords.accuracy;\n                    const point = L.latLng(lat, lng);\n                    this.$refs.map.fitBounds(point.toBounds(accuracy));\n                    console.log('accuracy', evt.coords.accuracy);\n                },\n                this.manageError,\n                {\n                    enableHighAccuracy: true,\n                }\n            );\n        },\n        manageError(evt) {\n            switch (evt.code) {\n                case evt.PERMISSION_DENIED:\n                    this.message = 'Vous avez refus la golocalisation.';\n                    break;\n                case evt.POSITION_UNAVAILABLE:\n                    this.message = 'La golocalisation n\\'a pas pu tre ralise.';\n                    break;\n                case evt.TIMEOUT:\n                    this.message = 'La golocalisation a mis trop de temps.';\n                    break;\n                default:\n                    this.message = evt.message;\n            }\n        },\n        setCenter(evt) {\n            const {lat, lng} = evt.latlng;\n            this.$emit('input', [lat, lng].join(';'));\n        },\n    },\n    components: {\n        DistanceRange,\n        LMap, LTileLayer, LCircle,\n    },\n};\n</script>\n\n<style scoped>\n.edit-button {\n    margin-left: 1em;\n}\n.mainElement {\n    cursor: pointer;\n}\n.map {\n    top: 5%;\n    width: 75%;\n    height: 85%;\n    padding: 5px 2rem;\n    display: grid;\n    grid-template: 3vh 1fr 3vh 4vh 3vh / 100%;\n    background: rgba(200, 200, 250, 0.5);\n    box-shadow: 0 5px 25px 1px black;\n    background: white;\n    font-size: 2vh;\n}\n/* .map > * {\n    align-items: center;\n} */\nheader {\n    text-align: center;\n}\nfooter {\n    text-align: right;\n}\nfooter > button {\n    margin-left: 1rem;\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MapLocation.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MapLocation.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./MapLocation.vue?vue&type=template&id=1c105210&scoped=true&\"\nimport script from \"./MapLocation.vue?vue&type=script&lang=js&\"\nexport * from \"./MapLocation.vue?vue&type=script&lang=js&\"\nimport style0 from \"./MapLocation.vue?vue&type=style&index=0&id=1c105210&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"1c105210\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_vm._v(\"\\n    de\\n    \"),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.fromTime),expression:\"fromTime\"}],attrs:{\"type\":\"time\"},domProps:{\"value\":(_vm.fromTime)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.fromTime=$event.target.value}}}),_vm._v(\"\\n    \\n    \"),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.toTime),expression:\"toTime\"}],attrs:{\"type\":\"time\"},domProps:{\"value\":(_vm.toTime)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.toTime=$event.target.value}}}),_c('button',{staticClass:\"delete\",on:{\"click\":function($event){$event.preventDefault();$event.stopPropagation();return _vm.$emit('delete')}}},[_vm._v(\"\")])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n    <div>\n        de\n        <input\n            v-model=\"fromTime\"\n            type=\"time\"\n        />\n        \n        <input\n            v-model=\"toTime\"\n            type=\"time\"\n        />\n        <button @click.prevent.stop=\"$emit('delete')\" class=\"delete\"></button>\n    </div>\n</template>\n\n<script>\n\nexport default {\n    name: 'Period',\n    props: {\n        period: Object,\n    },\n    computed: {\n        fromTime: {\n            get: function() {\n                return this.buildHour(this.period.from);\n            },\n            set: function(value) {\n                if (value) {\n                    const [h, m] = value.split(':').map(v => +v);\n                    this.period.from = {\n                        hour: h,\n                        minute: m,\n                    };\n                    this.$emit('input', this.period);\n                }\n            },\n        },\n        toTime: {\n            get: function() {\n                return this.buildHour(this.period.to);\n            },\n            set: function(value) {\n                if (value) {\n                    const [h, m] = value.split(':').map(v => +v);\n                    this.period.to = {\n                        hour: h,\n                        minute: m,\n                    };\n                    this.$emit('input', this.period);\n                }\n            },\n        },\n    },\n    methods: {\n        buildHour(p) {\n            let hour = p.hour;\n            let min = p.minute;\n            if (hour < 10){\n                hour = `0${hour}`;\n            }\n            if (min < 10){\n                min = `0${min}`;\n            }\n            return `${hour}:${min}`;\n        },\n    },\n};\n</script>\n\n<style scoped>\n.delete {\n    margin-left: 2rem;\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Period.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Period.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Period.vue?vue&type=template&id=039a9b42&scoped=true&\"\nimport script from \"./Period.vue?vue&type=script&lang=js&\"\nexport * from \"./Period.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Period.vue?vue&type=style&index=0&id=039a9b42&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"039a9b42\",\n  null\n  \n)\n\nexport default component.exports","<template>\n    <div class=\"configuration\">\n        <div class=\"content\">\n            <label>\n                Nom de cette configuration:\n                <input\n                    type=\"name\"\n                    v-model=\"tabName\"\n                >\n            </label>\n            <label\n                :class=\"{ isWrong: errors.has('apiName') }\"\n            >\n                API:\n                <select v-model=\"apiName\">\n                    <option v-for=\"opt of apiOptions\"\n                        :key=\"opt.id\"\n                        :value=\"opt.id\"\n                    >\n                        {{opt.label}}\n                    </option>\n                </select>\n            </label>\n            <label v-if=\"tags.includes('token')\"\n                :class=\"{ isWrong: errors.has('token') }\"\n            >\n                API token: <input v-model=\"token\">\n            </label>\n            <label v-if=\"tags.includes('station')\"\n                :class=\"{ isWrong: errors.has('station') }\"\n            >\n                Id de gare: <input v-model=\"stationId\">\n            </label>\n            <label v-if=\"tags.includes('lat') || tags.includes('lng')\"\n                :class=\"{ isWrong: errors.has('lat') || errors.has('lng') }\"\n            >\n                Lieu:\n                <GeoMap v-model=\"latLng\" addButton=\"edit\" />\n            </label>\n            <label v-if=\"tags.includes('distance')\"\n                :class=\"{ isWrong: errors.has('distance') }\"\n            >\n                Distance  partir du lieu: <DistanceRange />\n            </label>\n            <label\n                :class=\"{ isWrong: errors.has('refreshTime') }\"\n            >\n                Temps de rafraichissement: <input type=\"number\" min=\"1\" v-model=\"refreshTime\">s\n            </label>\n            <label\n                :class=\"{ isWrong: errors.has('silentPeriods') }\"\n            >\n                Priodes sans rafraichissement:\n                    <Period v-for=\"(period, key) of silentPeriods\"\n                        :key=\"key\"\n                        :period=\"period\"\n                        @input=\"(period)=>updatePeriod(key, period)\"\n                        @delete=\"deletePeriod(key)\"\n                    />\n                    <button @click=\"addPeriod\">+</button>\n            </label>\n            <div>\n                <button\n                    :disabled=\"!isConfValid\"\n                    @click=\"update\"\n                >\n                    Test\n                </button>\n                <button v-if=\"isValid\"\n                    @click=\"toHome\"\n                >\n                    Voir les dparts\n                </button>\n                <button v-else disabled>\n                    Configuration invalide\n                </button>\n            </div>\n            <div :class=\"fetchState\">\n                {{statusText}}\n            </div>\n            <button @click=\"remove\">\n                Supprimer cette configuration\n            </button>\n        </div>\n    </div>\n</template>\n\n<script>\n\nimport { urlAPIs, getURL, getUrlTags, errors as apiErrors } from '@/helper.js';\nimport DistanceRange from '@/components/DistanceRange.vue';\nimport GeoMap from '@/components/MapLocation.vue';\nimport Period from '@/components/Period.vue';\n\nexport default {\n    name: 'configuration',\n    computed: {\n        tabName: {\n            get: function() {\n                return this.$store.state.name;\n            },\n            set: function(value) {\n                this.$store.commit('setConfiguration', { name: value });\n            },\n        },\n        token: {\n            get: function() {\n                return this.$store.state.token;\n            },\n            set: function(value) {\n                this.$store.commit('setConfiguration', { token: value });\n            },\n        },\n        stationId: {\n            get: function() {\n                return this.$store.state.station;\n            },\n            set: function(value) {\n                this.$store.commit('setConfiguration', { station: value });\n            },\n        },\n        latLng: {\n            get: function() {\n                return this.$store.state.lat + ';' + this.$store.state.lng;\n            },\n            set: function(value) {\n                const [lat, lng] = value.split(';');\n                this.$store.commit('setConfiguration', { lat, lng });\n            },\n        },\n        refreshTime: {\n            get: function() {\n                return this.$store.state.refreshTime / 1000;\n            },\n            set: function(value) {\n                this.$store.commit('setConfiguration', { refreshTime: value * 1000 });\n            },\n        },\n        silentPeriods: {\n            get: function() {\n                return this.$store.state.silentPeriods.slice();\n            },\n            set: function(value) {\n                this.$store.commit('setConfiguration', { silentPeriods: value });\n            },\n        },\n        apiName: {\n            get: function() {\n                return this.$store.state.apiName;\n            },\n            set: function(value) {\n                this.$store.commit('setConfiguration', { apiName: value });\n            },\n        },\n        fetchState: function() {\n            return this.$store.state.fetchState;\n        },\n        errors: function() {\n            return apiErrors;\n        },\n\n        tags: function() {\n            return getUrlTags(this.apiName, 'position');\n        },\n\n        statusText: function() {\n            const text = {\n                'good': 'La configuration est bonne.',\n                'bad': 'La configuration n\\'est pas correcte !',\n                'testing': 'Test de la configuration en cours...',\n                'offline': 'Aucune connexion internet pour tester la ligne...',\n            };\n\n            return text[this.fetchState];\n        },\n\n        isConfValid: function() {\n            //TODO reset url\n            return !!getURL(this.$store, this.apiName, 'position');\n        },\n        isValid: function() {\n            return this.isConfValid && this.fetchState === 'good';\n        },\n        apiOptions: function() {\n            return Object.keys(urlAPIs).map(key => ({\n                id: key,\n                label: key,\n            }));\n        },\n        apiModeOptions: function() {\n            return Object.keys(urlAPIs[this.apiName]).map(key => ({\n                id: key,\n                label: key,\n            }));\n        },\n    },\n    methods: {\n        update() {\n            this.$store.commit('setStatus', { fetchState: 'testing' });\n            this.$store.dispatch('update');\n        },\n        toHome() {\n            this.$router.push('home');\n        },\n        addPeriod() {\n            const periods = this.silentPeriods;\n            periods.push({\n                from: {\n                    hour: 0,\n                    minute: 0,\n                },\n                to: {\n                    hour: 23,\n                    minute: 59,\n                },\n            });\n            this.silentPeriods = periods;\n        },\n        updatePeriod(key, period) {\n            const periods = this.silentPeriods;\n            periods[key] = period;\n            this.silentPeriods = periods;\n        },\n        deletePeriod(key) {\n            const periods = this.silentPeriods;\n            periods.splice(key, 1);\n            this.silentPeriods = periods;\n        },\n        remove() {\n            this.$store.dispatch('removeConfiguration', this.$store.state.activeConf);\n        },\n    },\n    components: {\n        DistanceRange, GeoMap, Period,\n    },\n};\n</script>\n\n<style scoped>\n.configuration {\n    padding-top: 1em;\n}\nlabel {\n    display: block;\n    margin-bottom: 1em;\n}\ninput[type=\"number\"] {\n    width: 4em;\n}\nbutton {\n    margin: 1em;\n    padding: 5px;\n}\n.content {\n    padding-left: 5em;\n}\n.isWrong {\n    color: rgb(150, 30, 20);\n}\n\n.good {\n    color: rgb(10, 100, 20);\n}\n.bad, .offline {\n    color: rgb(100, 20, 10);\n}\n.testing {\n    color: rgb(50, 70, 150);\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Configuration.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Configuration.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Configuration.vue?vue&type=template&id=44508f14&scoped=true&\"\nimport script from \"./Configuration.vue?vue&type=script&lang=js&\"\nexport * from \"./Configuration.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Configuration.vue?vue&type=style&index=0&id=44508f14&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"44508f14\",\n  null\n  \n)\n\nexport default component.exports","<template>\n    <div class=\"configuration\">\n        <h1>Configuration</h1>\n        <div class=\"tabs\">\n            <div v-for=\"(tab, idx) of tabs\"\n                class=\"tab\"\n                :class=\"{active: idx === activeTab}\"\n                @click=\"activeTab = idx\"\n                :key=\"'tab-' + idx\"\n            >\n                {{tab}}\n            </div>\n            <div class=\"tab tab__add-configuration\" @click=\"add\" title=\"Crer une nouvelle configuration\">\n                +\n            </div>\n        </div>\n        <Configuration />\n    </div>\n</template>\n\n<script>\n\nimport Configuration from '@/views/Configuration.vue';\n\nexport default {\n    name: 'configurations',\n    computed: {\n        activeTab: {\n            get() {\n                return this.$store.state.activeConf;\n            },\n            set(idx) {\n                if (idx !== this.activeTab) {\n                    this.$store.commit('changePageActive', idx);\n                }\n            },\n        },\n        tabs() {\n            const confs = this.$store.state.configurations;\n            return confs.map((conf, idx) => conf.name || `configuration #${idx + 1}`);\n        },\n    },\n    methods: {\n        add() {\n            this.$store.dispatch('createNewConfiguration');\n        },\n    },\n    components: {\n        Configuration,\n    },\n};\n</script>\n\n<style scoped>\n    .tabs {\n        width: 100%;\n        display: flex;\n        border-bottom: 1px solid black;\n    }\n\n    .tab {\n        padding: 0.5rem;\n        border-top-left-radius: 0.5rem;\n        border-top-right-radius: 0.5rem;\n        border: 1px solid black;\n        border-bottom: none;\n        box-shadow: 0 -5px 5px black;\n        background-color: rgba(220, 220, 220, 0.5);\n        cursor: pointer;\n    }\n    .tab:not(.active):hover {\n        font-weight: bold;\n    }\n    .tab.active {\n        background-color: rgba(220, 200, 150, 0.8);\n        color: orange;\n        border-color: orange;\n        box-shadow: 0 -5px 5px orange;\n        cursor: default;\n    }\n    .tab__add-configuration {\n        color: white;\n        background-color: rgba(50, 50, 50, 0.8);\n    }\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Configurations.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Configurations.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Configurations.vue?vue&type=template&id=58d44d20&scoped=true&\"\nimport script from \"./Configurations.vue?vue&type=script&lang=js&\"\nexport * from \"./Configurations.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Configurations.vue?vue&type=style&index=0&id=58d44d20&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"58d44d20\",\n  null\n  \n)\n\nexport default component.exports","import Vue from 'vue';\nimport Router from 'vue-router';\nimport Home from './views/Home.vue';\nimport About from './views/About.vue';\nimport Configurations from './views/Configurations.vue';\n\nVue.use(Router);\n\nexport default new Router({\n    mode: 'hash',\n    base: process.env.BASE_URL,\n    routes: [\n        {\n            path: '*/home/:id',\n            name: 'homeWithId',\n            component: Home,\n        },\n        {\n            path: '*/home',\n            name: 'home',\n            component: Home,\n            alias: '*/',\n        },\n        {\n            path: '*/about',\n            name: 'about',\n            component: About,\n        },\n        {\n            path: '*/configuration',\n            name: 'configuration',\n            component: Configurations,\n        },\n        {\n            path: '*',\n            name: 'Default',\n            redirect: 'home',\n        },\n    ],\n});\n","import Vue from 'vue';\nimport Vuex from 'vuex';\n\nimport { getURL, checkSilentPeriod, compareDate } from '@/helper.js';\n\nVue.use(Vuex);\n\nlet timerRefresh = 0;\n\nfunction initConf() {\n    return {\n        name: '',\n        token: '',\n        station: '',\n        distance: 200,\n        lat: 48.937591000,\n        lng: 2.15785800,\n        silentPeriods: [],\n\n        refreshTime: 30000,\n        nbItems: 10,\n        apiName: 'sncf',\n        apiMode: 'position',\n\n        cacheUrl: '',\n    };\n}\n\nfunction setOneConfiguration(state, { name, token, station, distance, lat, lng, refreshTime, apiName, apiMode, silentPeriods, nbItems }, index) {\n    let conf = state.configurations[index];\n\n    if (!conf) {\n        state.configurations[index] = initConf();\n        conf = state.configurations[index];\n    }\n\n    if (typeof name === 'string') {\n        conf.name = name;\n    }\n\n    if (typeof token === 'string') {\n        conf.token = token;\n    }\n    if (typeof station === 'string') {\n        conf.station = station;\n    }\n\n    if (typeof distance !== 'undefined') {\n        distance = +distance;\n        if (!isNaN(distance) && distance > 0) {\n            conf.distance = distance;\n        } else {\n            conf.distance = 200;\n        }\n    }\n\n    if (!isNaN(lat) && !isNaN(lng)) {\n        conf.lat = +lat;\n        conf.lng = +lng;\n    } else if (lat !== undefined || lng !== undefined) {\n        conf.lat = 0;\n        conf.lng = 0;\n    }\n\n    if (typeof refreshTime !== 'undefined') {\n        refreshTime = +refreshTime;\n        if (!isNaN(refreshTime) && refreshTime > 0) {\n            conf.refreshTime = refreshTime;\n        } else {\n            conf.refreshTime = 30;\n        }\n    }\n\n    if (silentPeriods instanceof Array) {\n        conf.silentPeriods = silentPeriods.slice();\n    }\n\n    if (typeof nbItems !== 'undefined') {\n        nbItems = +nbItems;\n        if (!isNaN(nbItems) && nbItems > 0) {\n            conf.nbItems = nbItems;\n        } else {\n            conf.nbItems = 10;\n        }\n    }\n\n    if (typeof apiName === 'string') {\n        conf.apiName = apiName;\n    }\n    if (typeof apiMode === 'string') {\n        conf.apiMode = apiMode;\n    }\n\n    conf.cacheUrl = '';\n}\n\nfunction copyStateConf(state) {\n    const configuration = state.configurations[state.activeConf];\n    if (!configuration) {\n        console.warn('Error to read configuration. Index %d not found, maximum is %d', state.activeConf, state.configurations.length);\n        return;\n    }\n    for (let [key, value] of Object.entries(configuration)) {\n        state[key] = value;\n    }\n}\n\nexport default new Vuex.Store({\n    state: Object.assign({\n        departures: [],\n        context: {\n            timezone: 'Europe/Paris',\n            current_datetime: '',\n        },\n\n        configurations: [initConf()],\n        activeConf: 0,\n\n        fetchState: 'good',\n        onLine: true,\n\n        dialogOpen: false,\n        isLoading: false,\n        requestId: 0,\n    }, initConf()),\n    getters: {\n        silentPeriods(state) {\n            return state.silentPeriods.reduce((periods, period) => {\n                const {from, to} = period;\n                if (compareDate(from, to)) {\n                    periods.push(period);\n                } else {\n                    periods.push({\n                        from: {\n                            hour: 0,\n                            minute:0,\n                        },\n                        to: to,\n                    }, {\n                        from: from,\n                        to: {\n                            hour: 23,\n                            minute: 59,\n                        },\n                    });\n                }\n                return periods;\n            }, []);\n        },\n    },\n    mutations: {\n        setState(state, {departures, context}) {\n            state.departures = departures;\n            state.context = context;\n        },\n        setConfiguration(state, configurations, index) {\n            if (Array.isArray(configurations)) {\n                configurations.forEach((configuration, idx) => setOneConfiguration(state, configuration, idx));\n            } else {\n                if (typeof index === 'undefined') {\n                    index = state.activeConf;\n                }\n                setOneConfiguration(state, configurations, index);\n            }\n\n            //apply change\n            state.configurations= state.configurations.slice();\n            copyStateConf(state);\n\n            if (!state.configurations[state.activeConf]) {\n                state.activeConf = 0;\n            }\n\n            const exception = ['cacheUrl'];\n            const saveConf = state.configurations.map((conf) => {\n                const obj = {};\n                for (let [key, value] of Object.entries(conf)) {\n                    if (exception.includes(key)) {\n                        continue;\n                    }\n                    obj[key] = value;\n                }\n\n                return obj;\n            });\n            localStorage.nextTrainConfig = JSON.stringify(saveConf);\n        },\n        setStatus(state, { fetchState, onLine }) {\n            if (fetchState) {\n                state.fetchState = fetchState;\n            }\n            if (typeof onLine === 'boolean') {\n                state.onLine = onLine;\n            }\n        },\n        setCacheUrl(state, cacheUrl) {\n            state.configurations[state.activeConf].cacheUrl = cacheUrl;\n            state.cacheUrl = cacheUrl;\n        },\n        changePageActive(state, index) {\n            if (!state.configurations[+index] || state.activeConf === +index) {\n                return;\n            }\n            state.activeConf = +index;\n            copyStateConf(state);\n        },\n        loading(state,) {\n            state.requestId = state.requestId + 1;\n            state.isLoading = true;\n        },\n        loaded(state, id) {\n            if (id < state.requestId){\n                // deprecated request\n                return;\n            }\n            state.isLoading = false;\n        },\n        openDialog(state, isOpen = true) {\n            state.dialogOpen = isOpen;\n        },\n    },\n    actions: {\n        initialize({commit, dispatch}) {\n            commit('setStatus', {onLine: navigator.onLine});\n            if (navigator.connection) {\n                navigator.connection.onchange = () => {\n                    commit('setStatus', { onLine: navigator.onLine });\n                };\n            }\n            dispatch('update');\n        },\n        async fetch(store, url) {\n            if (!url) {\n                throw 'URL is missing';\n            }\n            const headers = {\n                'Content-Type': 'text/plain',\n            };\n            if (url.includes('@')) {\n                let authorization;\n                url = url.replace(/(https?:\\/\\/)([^@]+)@/, (_, protocole, auth) => {\n                    authorization = auth;\n                    return protocole;\n                });\n                headers.Authorization = 'Basic ' + btoa(authorization);\n            }\n            return fetch(url, {\n                credentials: 'same-origin',\n                headers: headers,\n            }).catch((err) => {\n                console.warn('Error in request:', err.message);\n                return { ok: false };\n            });\n        },\n        async update({ commit, dispatch, state }) {\n            if (!state.onLine) {\n                commit('setStatus', {\n                    fetchState: 'offline',\n                });\n                dispatch('nextUpdate');\n                return;\n            }\n\n            let url = getURL({state, commit}, state.apiName, state.apiMode);\n            if (url) {\n                commit('loading');\n                const rId = state.requestId;\n                const response = await dispatch('fetch', url);\n                if (!response.ok) {\n                    console.warn('Data failed to be fetched');\n                    commit('setStatus', {\n                        fetchState: 'bad',\n                    });\n                    commit('loaded', rId);\n                    return;\n                }\n                const json = await response.json().catch((err) => {\n                    console.warn('Request did not return a JSON', err.message);\n                    return;\n                });\n                commit('loaded', rId);\n                if (!json) {\n                    commit('setStatus', {\n                        fetchState: 'bad',\n                    });\n                    return;\n                }\n                if (state.isLoading) {\n                    return;\n                }\n                commit('setState', json);\n                commit('setStatus', {\n                    fetchState: 'good',\n                });\n                dispatch('nextUpdate');\n            } else {\n                console.info('we cannot fetch data without token and station id');\n                commit('setStatus', {\n                    fetchState: 'bad',\n                });\n            }\n        },\n        nextUpdate({ dispatch, state, getters }) {\n            clearTimeout(timerRefresh);\n            const period = state.refreshTime;\n\n            timerRefresh = setTimeout(() => {\n                if (checkSilentPeriod({getters, state})) {\n                    dispatch('nextUpdate');\n                } else {\n                    dispatch('update');\n                }\n            }, period);\n        },\n        createNewConfiguration({commit, state}) {\n            const confs = state.configurations;\n            confs.push(initConf());\n            commit('setConfiguration', confs);\n            commit('changePageActive', confs.length -1);\n        },\n        removeConfiguration({commit, dispatch, state}, index) {\n            const confs = state.configurations;\n            let idx = state.activeConf;\n\n            confs.splice(index, 1);\n            commit('setConfiguration', confs);\n            if (index === idx) {\n                if (idx !== 0) {\n                    idx--;\n                }\n                commit('changePageActive', idx);\n            }\n            if (confs.length === 0) {\n                dispatch('createNewConfiguration');\n            }\n        },\n    },\n});\n","import Vue from 'vue';\nimport App from './App.vue';\nimport router from './router';\nimport store from './store';\n\nVue.config.productionTip = false;\n\nnew Vue({\n    router,\n    store,\n    render: h => h(App),\n}).$mount('#app');\n\nfunction initializeStore() {\n    let config = JSON.parse(localStorage.nextTrainConfig || '[]');\n\n    if (!Array.isArray(config)) {\n        config = [config];\n    }\n\n    document.location.search.slice(1).split('&').forEach(attribute => {\n        const [key, value] = attribute.split('=');\n        config[0][key] = decodeURIComponent(value);\n    });\n    store.commit('setConfiguration', config);\n    store.dispatch('initialize');\n}\ninitializeStore();\n","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MapLocation.vue?vue&type=style&index=0&id=1c105210&scoped=true&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MapLocation.vue?vue&type=style&index=0&id=1c105210&scoped=true&lang=css&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Train.vue?vue&type=style&index=0&id=2f22dcc4&scoped=true&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Train.vue?vue&type=style&index=0&id=2f22dcc4&scoped=true&lang=css&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Home.vue?vue&type=style&index=0&id=22ab871b&scoped=true&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Home.vue?vue&type=style&index=0&id=22ab871b&scoped=true&lang=css&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Configurations.vue?vue&type=style&index=0&id=58d44d20&scoped=true&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Configurations.vue?vue&type=style&index=0&id=58d44d20&scoped=true&lang=css&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Period.vue?vue&type=style&index=0&id=039a9b42&scoped=true&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Period.vue?vue&type=style&index=0&id=039a9b42&scoped=true&lang=css&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MapLine.vue?vue&type=style&index=0&id=6969af9a&scoped=true&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MapLine.vue?vue&type=style&index=0&id=6969af9a&scoped=true&lang=css&\""],"sourceRoot":""}